/**
 * Copyright Â© 2015 Simon Leblanc <contact@leblanc-simon.eu>
 * This work is free. You can redistribute it and/or modify it under the
 * terms of the Do What The Fuck You Want To Public License, Version 2,
 * as published by Sam Hocevar. See the COPYING file for more details.
 */

var Notification = window.Notification || window.mozNotification || window.webkitNotification;
var notification_icon = "data:image/png;base64,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";
var notification_accepted = false;

Notification.requestPermission(function (permission) {
    if (permission === 'granted') {
        notification_accepted = true;
    }
});

function showNotification(title, body)
{
    if (false === notification_accepted) {
        return;
    }

    new Notification(
        title, {
            body: body,
            icon: notification_icon
        }
    );
}

function showNewBet(from, to) {
    showNotification(
        lang[current_language].notification.title.new_bet,
        lang[current_language].notification.content.new_bet.format(from.trim(), to.trim())
    );
}

function showBetPaid(from, to) {
    showNotification(
        lang[current_language].notification.title.paid_bet,
        lang[current_language].notification.content.paid_bet.format(from.trim(), to.trim())
    );
}
